import{r as l,c as w,s as S,j as t,i as L,k as R}from"./index-COXDmTmq.js";const D=()=>{const[v,j]=l.useState("#282c34"),[s,a]=l.useState([]),[i,c]=l.useState("all"),[x,N]=l.useState(!0),u=l.useRef(null),p=l.useRef(0);l.useEffect(()=>{if(!window.cep)return;const e=n=>{try{console.log("Received log event:",n),console.log("Event data type:",typeof n.data),console.log("Event data:",n.data);let r;typeof n.data=="string"?r=JSON.parse(n.data):r=n.data,console.log("Parsed data:",r);const o={id:p.current++,timestamp:new Date(r.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),level:r.level,message:r.args.join(" "),source:r.source};a(h=>[...h,o])}catch(r){console.error("Error parsing log event:",r,n)}};return w.addEventListener("com.lasker.studio.log",e),()=>{w.removeEventListener("com.lasker.studio.log",e)}},[]),l.useEffect(()=>{const e={log:console.log,info:console.info,warn:console.warn,error:console.error},n=(r,o,h="debug")=>{const C=new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3});let f="",m;return o.length===1?typeof o[0]=="string"?f=o[0]:(f="",m=o[0]):f=o.map(b=>{if(typeof b=="object")try{return JSON.stringify(b,null,2)}catch{return String(b)}return String(b)}).join(" "),{id:p.current++,timestamp:C,level:r,message:f,data:m,source:h}};return console.log=(...r)=>{e.log(...r),a(o=>[...o,n("log",r)])},console.info=(...r)=>{e.info(...r),a(o=>[...o,n("info",r)])},console.warn=(...r)=>{e.warn(...r),a(o=>[...o,n("warn",r)])},console.error=(...r)=>{e.error(...r),a(o=>[...o,n("error",r)])},console.log("Debug Panel initialized"),()=>{console.log=e.log,console.info=e.info,console.warn=e.warn,console.error=e.error}},[]),l.useEffect(()=>{x&&u.current&&u.current.scrollIntoView({behavior:"smooth"})},[s,x]),l.useEffect(()=>{window.cep&&S(j)},[]);const g=s.filter(e=>i==="all"?!0:e.level===i),y=()=>{a([]),console.log("Logs cleared")},k=()=>{const e=JSON.stringify(s,null,2),n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=`debug_logs_${Date.now()}.json`,o.click(),URL.revokeObjectURL(r)},E=e=>{switch(e){case"error":return"âŒ";case"warn":return"âš ï¸";case"info":return"â„¹ï¸";default:return"ðŸ“"}},d={total:s.length,log:s.filter(e=>e.level==="log").length,info:s.filter(e=>e.level==="info").length,warn:s.filter(e=>e.level==="warn").length,error:s.filter(e=>e.level==="error").length};return t.jsxs("div",{className:"min-h-screen flex flex-col font-mono text-xs",style:{backgroundColor:v},children:[t.jsxs("div",{className:"p-4 pb-3.5 border-b border-white/10 bg-black/20",children:[t.jsx("h1",{className:"m-0 mb-3.5 text-lg text-[#61dafb]",children:"ðŸ› Debug Console"}),t.jsxs("div",{className:"flex flex-col gap-2.5",children:[t.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[t.jsxs("button",{className:`px-3 py-1.5 border border-white/10 rounded cursor-pointer text-[11px] transition-all duration-200 ${i==="all"?"bg-[#61dafb] text-[#282c34] border-[#61dafb] font-semibold":"bg-white/5 text-[#ccc] hover:bg-white/10 hover:border-white/20"}`,onClick:()=>c("all"),children:["All (",d.total,")"]}),t.jsxs("button",{className:`px-3 py-1.5 border border-white/10 rounded cursor-pointer text-[11px] transition-all duration-200 ${i==="log"?"bg-[#61dafb] text-[#282c34] border-[#61dafb] font-semibold":"bg-white/5 text-[#ccc] hover:bg-white/10 hover:border-white/20"}`,onClick:()=>c("log"),children:["ðŸ“ Log (",d.log,")"]}),t.jsxs("button",{className:`px-3 py-1.5 border border-white/10 rounded cursor-pointer text-[11px] transition-all duration-200 ${i==="info"?"bg-[#61dafb] text-[#282c34] border-[#61dafb] font-semibold":"bg-white/5 text-[#ccc] hover:bg-white/10 hover:border-white/20"}`,onClick:()=>c("info"),children:["â„¹ï¸ Info (",d.info,")"]}),t.jsxs("button",{className:`px-3 py-1.5 border border-white/10 rounded cursor-pointer text-[11px] transition-all duration-200 ${i==="warn"?"bg-[#61dafb] text-[#282c34] border-[#61dafb] font-semibold":"bg-white/5 text-[#ccc] hover:bg-white/10 hover:border-white/20"}`,onClick:()=>c("warn"),children:["âš ï¸ Warn (",d.warn,")"]}),t.jsxs("button",{className:`px-3 py-1.5 border border-white/10 rounded cursor-pointer text-[11px] transition-all duration-200 ${i==="error"?"bg-[#61dafb] text-[#282c34] border-[#61dafb] font-semibold":"bg-white/5 text-[#ccc] hover:bg-white/10 hover:border-white/20"}`,onClick:()=>c("error"),children:["âŒ Error (",d.error,")"]})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[t.jsxs("label",{className:"flex items-center gap-1.5 text-[#ccc] cursor-pointer select-none",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:e=>N(e.target.checked),className:"cursor-pointer"}),"Auto Scroll"]}),t.jsx("button",{onClick:k,className:"px-3 py-1.5 bg-white/5 text-[#ccc] border border-white/10 rounded cursor-pointer text-[11px] transition-all duration-200 hover:bg-white/10 hover:border-white/20",children:"ðŸ’¾ Export"}),t.jsx("button",{onClick:y,className:"px-3 py-1.5 bg-[#ff3b30]/10 text-[#ff3b30] border border-[#ff3b30]/30 rounded cursor-pointer text-[11px] transition-all duration-200 hover:bg-[#ff3b30]/20",children:"ðŸ—‘ï¸ Clear"})]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-2.5 bg-black/10",children:[g.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[200px] text-[#666]",children:[t.jsx("p",{className:"my-1.5",children:"No logs to display"}),t.jsx("p",{className:"text-[11px] text-[#555] my-1.5",children:"Console output will appear here"})]}):g.map(e=>t.jsxs("div",{className:`flex gap-2 p-2 px-2.5 mb-0.5 border-l-[3px] bg-white/[0.02] transition-all duration-100 hover:bg-white/[0.05] ${e.level==="log"?"border-l-[#999]":e.level==="info"?"border-l-[#61dafb] bg-[#61dafb]/[0.03]":e.level==="warn"?"border-l-[#ffcc00] bg-[#ffcc00]/[0.03]":"border-l-[#ff3b30] bg-[#ff3b30]/[0.05]"}`,children:[t.jsx("span",{className:"flex-shrink-0 text-sm",children:E(e.level)}),t.jsx("span",{className:"flex-shrink-0 text-[#666] text-[10px] min-w-[80px]",children:e.timestamp}),t.jsxs("span",{className:`flex-shrink-0 font-semibold text-[10px] min-w-[50px] ${e.level==="log"?"text-[#999]":e.level==="info"?"text-[#61dafb]":e.level==="warn"?"text-[#ffcc00]":"text-[#ff3b30]"}`,children:["[",e.level.toUpperCase(),"]"]}),e.source&&t.jsxs("span",{className:"flex-shrink-0 font-semibold text-[10px] text-[#9966ff] min-w-[60px] bg-[#9966ff]/10 px-1.5 py-0.5 rounded",children:["[",e.source,"]"]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[e.message&&t.jsx("div",{className:"text-[#ddd] break-words whitespace-pre-wrap",children:e.message}),e.data&&t.jsx("pre",{className:"mt-1.5 p-2 bg-black/30 rounded text-[#a5d6ff] text-[11px] overflow-x-auto border border-white/5",children:JSON.stringify(e.data,null,2)})]})]},e.id)),t.jsx("div",{ref:u})]})]})};L();const $=document.getElementById("root");R.createRoot($).render(t.jsx(D,{}));
//# sourceMappingURL=debug-CAgtF_HW.js.map
